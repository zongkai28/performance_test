---
datasets:
  # default for each dataset:
  #   name: ''
  #    theme:
  #      color: '#0000ff'
  #      marker:
  #        shape: dot
  #        size: 25
  #        alpha: 1.0
  #      line:
  #        style: solid
  #        width: 2
  #        alpha: 1.0
  #    experiments:
  #      - com_mean: default_rosPollingSubscription
  #        transport: INTRA
  #        msg: Array1k
  #        pubs: 1
  #        subs: 1
  #        rate: 100
  #        reliability: RELIABLE
  #        durability: VOLATILE
  #        history: KEEP_LAST
  #        history_depth: 16
  ros_singlethreaded_intra_1_subs:
    name: Default ROS 2 INTRA 1 subs
    theme:
      color: '#0000ff'
    experiments:
      - com_mean: rclcpp-single-threaded-executor
        transport: INTRA
        msg:
          - Array1k
          - Array4k
          - Array16k
          - Array64k
          - Array256k
          - Array1m
          - Array4m
  ros_singlethreaded_shmem_1_subs:
    name: Default ROS 2 SHMEM 1 subs
    theme:
      color: '#00ff00'
    experiments:
      - com_mean: rclcpp-single-threaded-executor
        transport: SHMEM
        msg:
          - Array1k
          - Array4k
          - Array16k
          - Array64k
          - Array256k
          - Array1m
          - Array4m
  ros_singlethreaded_zc_1_subs:
    name: Default ROS 2 Zero Copy 1 subs
    theme:
      color: '#ff0000'
    experiments:
      - com_mean: rclcpp-single-threaded-executor
        transport: ZERO_COPY
        msg:
          - Array1k
          - Array4k
          - Array16k
          - Array64k
          - Array256k
          - Array1m
          - Array4m
  ros_singlethreaded_zc_3_subs:
    name: Default ROS 2 Zero Copy 3 subs
    theme:
      color: '#bf0000'
    experiments:
      - com_mean: rclcpp-single-threaded-executor
        transport: ZERO_COPY
        msg:
          - Array1k
          - Array4k
          - Array16k
          - Array64k
          - Array256k
          - Array1m
          - Array4m
        subs: 3
  ros_singlethreaded_zc_10_subs:
    name: Default ROS 2 Zero Copy 10 subs
    theme:
      color: '#7f0000'
    experiments:
      - com_mean: rclcpp-single-threaded-executor
        transport: ZERO_COPY
        msg:
          - Array1k
          - Array4k
          - Array16k
          - Array64k
          - Array256k
          - Array1m
          - Array4m
        subs: 10
  ros_singlethreaded_intra_array1m_100_1_1:
    name: Default ROS 2 INTRA 1 subs
    theme:
      color: '#ff0000'
    experiments:
      - com_mean: rclcpp-single-threaded-executor
        transport: INTRA
        msg: Array1m
        subs: 1
        rate: 100
  ros_singlethreaded_shmem_array1m_100_1_1:
    name: Default ROS 2 SHMEM 1 subs
    theme:
      color: '#00ff00'
    experiments:
      - com_mean: rclcpp-single-threaded-executor
        transport: SHMEM
        msg: Array1m
        subs: 1
        rate: 100
  ros_singlethreaded_zc_array1m_100_1_1:
    name: Default ROS 2 Zero Copy 1 subs
    theme:
      color: '#0000ff'
    experiments:
      - com_mean: rclcpp-single-threaded-executor
        transport: ZERO_COPY
        msg: Array1m
        subs: 1
        rate: 100
plots:
  - name: compare_default_ros_transport
    title: Comparing different ROS 2 Transports
    x_axis_label: Time (seconds)
    y_axis_label: Latency (ms)
    x_range: T_experiment
    y_range: latency_mean_ms
    size:
      width: 1000
      height: 600
    # dataset names must be listed above under the top-level `datasets`
    datasets:
      - ros_singlethreaded_intra_array1m_100_1_1
      - ros_singlethreaded_shmem_array1m_100_1_1
      - ros_singlethreaded_zc_array1m_100_1_1
  - name: compare_default_ros_transport_cpu_usage
    title: Comparing different ROS 2 Transports CPU Usage (%)
    x_axis_label: Time (seconds)
    y_axis_label: CPU Usage (%)
    x_range: T_experiment
    y_range: cpu_usage_percent
    size:
      width: 1000
      height: 600
    # dataset names must be listed above under the top-level `datasets`
    datasets:
      - ros_singlethreaded_intra_array1m_100_1_1
      - ros_singlethreaded_shmem_array1m_100_1_1
      - ros_singlethreaded_zc_array1m_100_1_1
  - name: compare_default_ros_msg_size
    title: Comparing Latency over Message Size
    x_axis_label: Message Size
    y_axis_label: Latency (ms)
    x_range: msg
    y_range: latency_mean_ms
    size:
      width: 1000
      height: 600
    # dataset names must be listed above under the top-level `datasets`
    datasets:
      - ros_singlethreaded_intra_1_subs
      - ros_singlethreaded_shmem_1_subs
      - ros_singlethreaded_zc_1_subs
  - name: compare_default_ros_num_subs
    title: Comparing Latency over Number of Subscribers with Zero Copy
    x_axis_label: Number of Subscribers
    y_axis_label: Latency (ms)
    x_range: msg
    y_range: latency_mean_ms
    size:
      width: 1000
      height: 600
    # dataset names must be listed above under the top-level `datasets`
    datasets:
      - ros_singlethreaded_zc_1_subs
      - ros_singlethreaded_zc_3_subs
      - ros_singlethreaded_zc_10_subs
